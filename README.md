## Для старта
- создать .env файл в директории docker
- запустить docker-compose file (`cd docker; docker-compose up -d; cd ..;`)
- выполнить `npm install`
- выполнить `npm run db:gen`
- выполнить `npm run start:dev` (или `npm run start`)

## Задание
Стек: strict typescript, postgres.js
Фреймворк на выбор: hono/elysia/fastify/express/nest
Таблицы в базе данных: users, items, purchases, схему необходимо добавить в репозиторий

endpoint 1:
Аутентификация пользователя, включающая в себя пароль, регистрация не нужна

endpoint 2:
Смена пароля пользователем

endpoint 3:
Нужно отобразить массив объектов с двумя минимальными ценами на предмет (одна цена — tradable, другая — нет)
В отдачу предметов необходимо добавить кеширование через redis
Получить данные можно через API: https://docs.skinport.com/#items
Параметры app_id и currency - default

endpoint 4:
Нужно реализовать покупку предмета из таблицы items, у пользователя должен быть баланс
В ответе должен быть обновленный баланс пользователя

## Список реализованных эндпоинтов
### Auth
- GET /auth/refresh - рефреш токена пользователя, требует авторизации
- POST /auth/sign-in - вход пользователя по логину и паролю
- POST /auth/sign-out - выход пользователя, требует авторизации
### Default
- GET / - дефолтный путь
### Items
- GET /items - получение предметов, требует авторизации, реализованы кеширование и пагинация
- POST /items/init - выгрузка информации о предметах с внешнего апи в бд, требует авторизации, реализована пакетная вставка в бд с разрешением конфликтов
### Purchase
- POST /purchase/buy - покупка нескольких предметов, требует авторизации, реализован с использованием алгоритма без блокировки в случае **race condition**  
- POST /purchase/buy/block - покупка нескольких предметов, требует авторизации, реализован с использованием алгоритма c блокировкой в случае **race condition**
### User
- PATCH /user/:id - обновление пароля пользователя, требует авторизации, запрашивает старый и новый пароль + id пользователя